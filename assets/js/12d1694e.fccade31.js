"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[1081],{3905:(e,n,t)=>{t.d(n,{Zo:()=>c,kt:()=>g});var l=t(7294);function a(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function r(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);n&&(l=l.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,l)}return t}function p(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?r(Object(t),!0).forEach((function(n){a(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):r(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function o(e,n){if(null==e)return{};var t,l,a=function(e,n){if(null==e)return{};var t,l,a={},r=Object.keys(e);for(l=0;l<r.length;l++)t=r[l],n.indexOf(t)>=0||(a[t]=e[t]);return a}(e,n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(l=0;l<r.length;l++)t=r[l],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(a[t]=e[t])}return a}var s=l.createContext({}),i=function(e){var n=l.useContext(s),t=n;return e&&(t="function"==typeof e?e(n):p(p({},n),e)),t},c=function(e){var n=i(e.components);return l.createElement(s.Provider,{value:n},e.children)},d="mdxType",u={inlineCode:"code",wrapper:function(e){var n=e.children;return l.createElement(l.Fragment,{},n)}},m=l.forwardRef((function(e,n){var t=e.components,a=e.mdxType,r=e.originalType,s=e.parentName,c=o(e,["components","mdxType","originalType","parentName"]),d=i(t),m=a,g=d["".concat(s,".").concat(m)]||d[m]||u[m]||r;return t?l.createElement(g,p(p({ref:n},c),{},{components:t})):l.createElement(g,p({ref:n},c))}));function g(e,n){var t=arguments,a=n&&n.mdxType;if("string"==typeof e||a){var r=t.length,p=new Array(r);p[0]=m;var o={};for(var s in n)hasOwnProperty.call(n,s)&&(o[s]=n[s]);o.originalType=e,o[d]="string"==typeof e?e:a,p[1]=o;for(var i=2;i<r;i++)p[i]=t[i];return l.createElement.apply(null,p)}return l.createElement.apply(null,t)}m.displayName="MDXCreateElement"},1390:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>s,contentTitle:()=>p,default:()=>u,frontMatter:()=>r,metadata:()=>o,toc:()=>i});var l=t(7462),a=(t(7294),t(3905));const r={},p=void 0,o={unversionedId:"study/devops/Linux\u8fd0\u7ef4-\u5e38\u7528",id:"study/devops/Linux\u8fd0\u7ef4-\u5e38\u7528",title:"Linux\u8fd0\u7ef4-\u5e38\u7528",description:"\u5185\u6838/\u53d1\u884c\u7248",source:"@site/docs/study/devops/Linux\u8fd0\u7ef4-\u5e38\u7528.md",sourceDirName:"study/devops",slug:"/study/devops/Linux\u8fd0\u7ef4-\u5e38\u7528",permalink:"/docs/study/devops/Linux\u8fd0\u7ef4-\u5e38\u7528",draft:!1,tags:[],version:"current",lastUpdatedAt:1692924258,formattedLastUpdatedAt:"2023\u5e748\u670825\u65e5",frontMatter:{},sidebar:"studySidebar",previous:{title:"API\u7684\u8bf7\u6c42\u91cf\u5206\u6790",permalink:"/docs/study/devops/API\u7684\u8bf7\u6c42\u91cf\u5206\u6790"},next:{title:"Linux\u8fd0\u7ef4-\u76d1\u63a7\u6570\u636e",permalink:"/docs/study/devops/Linux\u8fd0\u7ef4-\u76d1\u63a7\u6570\u636e"}},s={},i=[{value:"\u5185\u6838/\u53d1\u884c\u7248",id:"\u5185\u6838\u53d1\u884c\u7248",level:3},{value:"\u5220\u9664\u591a\u4f59\u7684\u5907\u4efd",id:"\u5220\u9664\u591a\u4f59\u7684\u5907\u4efd",level:3},{value:"\u6587\u4ef6/\u76ee\u5f55\u5927\u5c0f\u67e5\u770b",id:"\u6587\u4ef6\u76ee\u5f55\u5927\u5c0f\u67e5\u770b",level:3},{value:"\u7f51\u7edc\u5e26\u5bbd\u95ee\u9898",id:"\u7f51\u7edc\u5e26\u5bbd\u95ee\u9898",level:3},{value:"\u5b9a\u65f6\u4efb\u52a1",id:"\u5b9a\u65f6\u4efb\u52a1",level:3},{value:"\u9632\u706b\u5899",id:"\u9632\u706b\u5899",level:3},{value:"\u540e\u53f0\u8fd0\u884c",id:"\u540e\u53f0\u8fd0\u884c",level:3},{value:"zip \u6587\u4ef6",id:"zip-\u6587\u4ef6",level:3},{value:"centos \u5b57\u7b26\u96c6\u95ee\u9898",id:"centos-\u5b57\u7b26\u96c6\u95ee\u9898",level:3},{value:"\u5b9d\u5854\u76f8\u5173",id:"\u5b9d\u5854\u76f8\u5173",level:3},{value:"\u767b\u5f55\u7528\u6237",id:"\u767b\u5f55\u7528\u6237",level:3},{value:"\u5e38\u7528\u7684 ls \u547d\u4ee4",id:"\u5e38\u7528\u7684-ls-\u547d\u4ee4",level:3},{value:"CPU",id:"cpu",level:3},{value:"apt-get",id:"apt-get",level:3},{value:"\u7cfb\u7edf\u76d8\u7b26",id:"\u7cfb\u7edf\u76d8\u7b26",level:3},{value:"\u5185\u5b58",id:"\u5185\u5b58",level:3},{value:"\u64cd\u4f5c\u7cfb\u7edf\u7248\u672c",id:"\u64cd\u4f5c\u7cfb\u7edf\u7248\u672c",level:3},{value:"\u7aef\u53e3/\u8fde\u63a5",id:"\u7aef\u53e3\u8fde\u63a5",level:3},{value:"vi/vim \u4e2d\u6587\u4e71\u7801",id:"vivim-\u4e2d\u6587\u4e71\u7801",level:3},{value:"htop/top",id:"htoptop",level:3},{value:"grep",id:"grep",level:3},{value:"pstree",id:"pstree",level:3}],c={toc:i},d="wrapper";function u(e){let{components:n,...t}=e;return(0,a.kt)(d,(0,l.Z)({},c,t,{components:n,mdxType:"MDXLayout"}),(0,a.kt)("h3",{id:"\u5185\u6838\u53d1\u884c\u7248"},"\u5185\u6838/\u53d1\u884c\u7248"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-shell"},"# \u5185\u6838 CPU\u67b6\u6784\nuname -a\n# \u53d1\u884c\u7248\nlsb_release -a\n")),(0,a.kt)("h3",{id:"\u5220\u9664\u591a\u4f59\u7684\u5907\u4efd"},"\u5220\u9664\u591a\u4f59\u7684\u5907\u4efd"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-shell"},"# \u5220\u966490\u4e4b\u524d\u7684\u5907\u4efd\u6587\u4ef6\nfind /root/sh/bak/*.gz -mtime +90 -type f -exec rm -f {} \\;\n# \u5220\u966460\u4e4b\u524d\u7684\u5907\u4efd\u6587\u4ef6\nfind /root/sh/bak/*.gz -mtime +60 -type f -exec rm -f {} \\;\n# \u5220\u966410\u4e4b\u524d\u7684\u5907\u4efd\u6587\u4ef6\nfind /mnt/docker/tomcat/logs/*.log -mtime +10 -type f -exec rm -f {} \\;\n")),(0,a.kt)("h3",{id:"\u6587\u4ef6\u76ee\u5f55\u5927\u5c0f\u67e5\u770b"},"\u6587\u4ef6/\u76ee\u5f55\u5927\u5c0f\u67e5\u770b"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-shell"},"#\u67e5\u770b\u5f53\u524d\u76ee\u5f55\u603b\u5171\u5360\u7684\u5bb9\u91cf\u3002\u800c\u4e0d\u5355\u72ec\u5217\u51fa\u5404\u5b50\u9879\u5360\u7528\u7684\u5bb9\u91cf\ndu -sh\n#\u67e5\u770b\u5f53\u524d\u76ee\u5f55\u4e0b\u4e00\u7ea7\u5b50\u6587\u4ef6\u548c\u5b50\u76ee\u5f55\u5360\u7528\u7684\u78c1\u76d8\u5bb9\u91cf\u3002\ndu -lh --max-depth=1\n#\u6309\u7167\u6587\u4ef6\u5927\u5c0f \u4ece\u5c0f\u5230\u5927\u6392\u5e8f\nls -hSlr\n#\u6309\u7167\u4fee\u6539\u65f6\u95f4 \u4ece\u5c0f\u5230\u5927\u6392\u5e8f\nls -hlt\n")),(0,a.kt)("h3",{id:"\u7f51\u7edc\u5e26\u5bbd\u95ee\u9898"},"\u7f51\u7edc\u5e26\u5bbd\u95ee\u9898"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-shell"},"yum install libpcap nethogs\nnethogs -a\nlsof -i:\u88ab\u5360\u7528\u7684\u7aef\u53e3\u53f7\n")),(0,a.kt)("h3",{id:"\u5b9a\u65f6\u4efb\u52a1"},"\u5b9a\u65f6\u4efb\u52a1"),(0,a.kt)("h3",{id:"\u9632\u706b\u5899"},"\u9632\u706b\u5899"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-shell"},"#\u68c0\u67e5\u9632\u706b\u5899 \u5982\u679c\u9632\u706b\u5f3a\u4fee\u6539\u4e86 \u8bb0\u5f97\u91cd\u542fdocker\nsystemctl status firewalld\n#\nfirewall-cmd --list-ports\n\n#\u5f00\u542f\u9632\u706b\u5899\u7aef\u53e3\n#\nfirewall-cmd --permanent --add-port=9100/tcp && \\\nfirewall-cmd --permanent --add-port=9200/tcp && \\\nfirewall-cmd --permanent --add-port=9300/tcp && \\\nfirewall-cmd --reload\n#\nfirewall-cmd --permanent --add-port=5044-5054/tcp && \\\nfirewall-cmd --reload\n#\nfirewall-cmd --permanent --add-port=8090-8099/tcp && \\\nfirewall-cmd --reload\n\n#\u5173\u95ed\u9632\u706b\u5899\u7aef\u53e3\nfirewall-cmd --permanent --remove-port=9100/tcp && \\\nfirewall-cmd --permanent --remove-port=9200/tcp && \\\nfirewall-cmd --permanent --remove-port=9300/tcp && \\\nfirewall-cmd --reload\n")),(0,a.kt)("h3",{id:"\u540e\u53f0\u8fd0\u884c"},"\u540e\u53f0\u8fd0\u884c"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-shell"},"nohup python ./analyse_init_stocks.py > /dev/null 2>&1 &\n")),(0,a.kt)("h3",{id:"zip-\u6587\u4ef6"},"zip \u6587\u4ef6"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-shell"},"yum install -y unzip zip\n")),(0,a.kt)("h3",{id:"centos-\u5b57\u7b26\u96c6\u95ee\u9898"},"centos \u5b57\u7b26\u96c6\u95ee\u9898"),(0,a.kt)("ol",null,(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("a",{parentName:"li",href:"https://www.cnblogs.com/kcxg/p/11451120.html"},"CentOS7 \u53ca Docker \u914d\u7f6e\u4e2d\u6587\u5b57\u7b26\u96c6\u95ee\u9898"))),(0,a.kt)("h3",{id:"\u5b9d\u5854\u76f8\u5173"},"\u5b9d\u5854\u76f8\u5173"),(0,a.kt)("ol",null,(0,a.kt)("li",{parentName:"ol"},"\u5982\u679c\u4e0d\u77e5\u9053\u5b9d\u5854\u7684\u7ba1\u7406\u5458\u7684\u7528\u6237\u540d\u548c\u5bc6\u7801\uff0c\u4f46\u662f\u53ef\u4ee5\u767b\u5f55\u670d\u52a1\u5668\uff0c\u4f7f\u7528\u811a\u672c bt default \u6765\u83b7\u53d6\u7ba1\u7406\u5458\u7684\u7528\u6237\u540d\u548c\u5bc6\u7801\u3002")),(0,a.kt)("h3",{id:"\u767b\u5f55\u7528\u6237"},"\u767b\u5f55\u7528\u6237"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-shell"},"#\nw\n#\nwho\n")),(0,a.kt)("h3",{id:"\u5e38\u7528\u7684-ls-\u547d\u4ee4"},"\u5e38\u7528\u7684 ls \u547d\u4ee4"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-shell"},'#\u5ffd\u7565\u67d0\u4e9b\u6587\u4ef6\u540d\u5c55\u793a\nll -h --ignore="*bak*"\n')),(0,a.kt)("h3",{id:"cpu"},"CPU"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-shell"},'#\u8be5\u670d\u52a1\u5668\u4e00\u5171\u6709\u51e0\u4e2a\u7269\u7406CPU\ngrep "physical id" /proc/cpuinfo | uniq | wc -l\n#\u8be5\u670d\u52a1\u5668\u4e00\u5171\u6709\u51e0\u4e2a\u903b\u8f91CPU\ngrep "processor" /proc/cpuinfo | wc -l\n#\u67e5\u770bcpu\u6838\u5fc3\u6570\ncat /proc/cpuinfo| grep "cpu cores"| uniq\n#\u67e5\u770bcpu\u8be6\u7ec6\u4fe1\u606f\nlscpu\n#\u67e5\u770bCPU\u4f4d\u6570\ngetconf LONG_BIT\n# \u5217\u51faCPU\u5360\u7528\u6700\u591a\u76845\u4e2a\u8fdb\u7a0b\nps -aux | sort -k3nr | head -5\n# P\u6309\u7167\u5185\u5b58\u5927\u5c0f\u6392\u5e8f c\u663e\u793a\u8fdb\u7a0b\u5168\u79f0\ntop\n')),(0,a.kt)("h3",{id:"apt-get"},"apt-get"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-sql"},"#\napt-get update\n#\napt-get install vim\n")),(0,a.kt)("h3",{id:"\u7cfb\u7edf\u76d8\u7b26"},"\u7cfb\u7edf\u76d8\u7b26"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-shell"},"#\u67e5\u770b\u7cfb\u7edf\u652f\u6301\u7684\u76d8\u7b26\uff0c\u67e5\u770b\u5206\u533a\u548c\u78c1\u76d8\nlsblk\n#\u67e5\u770b\u7a7a\u95f4\u4f7f\u7528\u60c5\u51b5\ndf -h\n#\u67e5\u770b\u786c\u76d8label\uff08\u522b\u540d\uff09\u78c1\u76d8\u6587\u4ef6\u7c7b\u578b\nblkid\n")),(0,a.kt)("h3",{id:"\u5185\u5b58"},"\u5185\u5b58"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-shell"},"# \u67e5\u770b\u5185\u5b58\u5927\u5c0f\nfree -h \u3000\n# \u5185\u5b58\u5360\u7528\u6700\u591a\u76845\u4e2a\u8fdb\u7a0b\nps -aux | sort -k4nr | head -5\n# >\u6216M\u6309\u7167\u5185\u5b58\u5927\u5c0f\u6392\u5e8f c\u663e\u793a\u8fdb\u7a0b\u5168\u79f0\ntop\n")),(0,a.kt)("h3",{id:"\u64cd\u4f5c\u7cfb\u7edf\u7248\u672c"},"\u64cd\u4f5c\u7cfb\u7edf\u7248\u672c"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-shell"},"#\u7ea2\u5e3d\u7cfb\u5217 centos\ncat /etc/redhat-release\n#\u67e5\u770b\u5185\u6838/\u64cd\u4f5c\u7cfb\u7edf/CPU\u4fe1\u606f\uff1a\nuname -a\n")),(0,a.kt)("h3",{id:"\u7aef\u53e3\u8fde\u63a5"},"\u7aef\u53e3/\u8fde\u63a5"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-shell"},"#\u67e5\u770b\u6240\u6709\u76d1\u542c\u7684\u7aef\u53e3\nnetstat -lntp\n#\u67e5\u770b\u5df2\u7ecf\u5efa\u7acb\u7684\u94fe\u63a5\nnetstat -antp\n#\nyum list |grep telnet\nyum -y install telnet.x86_64\ntelnet 172.19.74.146 9200\n")),(0,a.kt)("h3",{id:"vivim-\u4e2d\u6587\u4e71\u7801"},"vi/vim \u4e2d\u6587\u4e71\u7801"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-shell"},"#\nvi /etc/vimrc\n#\u5728\u6587\u4ef6\u5934\u589e\u52a0\u5982\u4e0b\u5185\u5bb9\nset fileencodings=utf-8,gb2312,gbk,gb18030\nset termencoding=utf-8\nset fileformats=unix\nset encoding=prc\n")),(0,a.kt)("h3",{id:"htoptop"},"htop/top"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-shell"},"#\u652f\u6301\u9f20\u6807 \u652f\u6301\u5de6\u53f3\u65b9\u5411\u952e\nhtop\n#\nH \u53ea\u5c55\u793a\u8fdb\u7a0b/\u663e\u793a\u7ebf\u7a0b\nh, ? F1\u67e5\u770bhtop\u4f7f\u7528\u8bf4\u660e\nS F2 htop \u8bbe\u5b9a\n/ F3 \u641c\u7d22\u8fdb\u7a0b\n\\ F4 \u589e\u91cf\u8fdb\u7a0b\u8fc7\u6ee4\u5668\nt F5 \u663e\u793a\u6811\u5f62\u7ed3\u6784\n<, > F6 \u9009\u62e9\u6392\u5e8f\u65b9\u5f0f\n[ F7 \u53ef\u51cf\u5c11nice\u503c\u53ef\u4ee5\u63d0\u9ad8\u5bf9\u5e94\u8fdb\u7a0b\u7684\u4f18\u5148\u7ea7\n] F8 \u53ef\u589e\u52a0nice\u503c\uff0c\u964d\u4f4e\u5bf9\u5e94\u8fdb\u7a0b\u7684\u4f18\u5148\u7ea7\nk F9 \u53ef\u5bf9\u8fdb\u7a0b\u4f20\u9012\u4fe1\u53f7\nq F10 \u7ed3\u675fhtop\nu \u53ea\u663e\u793a\u4e00\u4e2a\u7ed9\u5b9a\u7684\u7528\u6237\u7684\u8fc7\u7a0b\nU \u53d6\u6d88\u6807\u8bb0\u6240\u6709\u7684\u8fdb\u7a0b\nH \u663e\u793a\u6216\u9690\u85cf\u7528\u6237\u7ebf\u7a0b\nK \u663e\u793a\u6216\u9690\u85cf\u5185\u6838\u7ebf\u7a0b\nF \u8ddf\u8e2a\u8fdb\u7a0b\nP \u6309CPU \u4f7f\u7528\u6392\u5e8f\nM \u6309\u5185\u5b58\u4f7f\u7528\u6392\u5e8f\nT \u6309Time+ \u4f7f\u7528\u6392\u5e8f\nl \u663e\u793a\u8fdb\u7a0b\u6253\u5f00\u7684\u6587\u4ef6\nI \u5012\u8f6c\u6392\u5e8f\u987a\u5e8f\ns \u9009\u62e9\u67d0\u8fdb\u7a0b\uff0c\u6309s:\u7528strace\u8ffd\u8e2a\u8fdb\u7a0b\u7684\u7cfb\u7edf\u8c03\u7528\n")),(0,a.kt)("h3",{id:"grep"},"grep"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-shell"},"#\nless user-func-flow-for-res.2022-03-11.log | grep -E '61.166.240.34' |grep get | more\n\n\n")),(0,a.kt)("h3",{id:"pstree"},"pstree"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-shell"},"#pstree \u547d\u4ee4\u662f\u4ee5\u6811\u5f62\u7ed3\u6784\u663e\u793a\u7a0b\u5e8f\u548c\u8fdb\u7a0b\u4e4b\u95f4\u7684\u5173\u7cfb\nman pstree\n#\u5c55\u793a\u8fdb\u7a0b\u547d\u4ee4\u884c\npstree -a\n")))}u.isMDXComponent=!0}}]);