### Tun/Tap

在计算机网络中，TUN 与 TAP 是操作系统内核中的虚拟网络设备。不同于普通靠硬件网路板卡实现的设备，这些虚拟的网络设备全部用软件实现，并向运行于操作系统上的软件提供与硬件的网络设备完全相同的功能。

TAP 等同于一个以太网设备，它操作第二层数据包如以太网数据帧。TUN 模拟了网络层设备，操作第三层数据包比如 IP 数据封包。

操作系统通过 TUN/TAP 设备向绑定该设备的用户空间的程序发送数据，反之，用户空间的程序也可以像操作硬件网络设备那样，通过 TUN/TAP 设备发送数据。在后种情况下，TUN/TAP 设备向操作系统的网络栈投递（或“注入”）数据包，从而模拟从外部接受数据的过程。

Tun 虚拟设备和物理网卡的区别是 Tun 虚拟设备是 IP 层设备，从/dev/net/tun 字符设备上读取的是 IP 数据包，写入的也只能是 IP 数据包，因此不能进行二层操作，如发送 ARP 请求和以太网广播。与之相对的是，Tap 虚拟设备是以太网设备，处理的是二层以太网数据帧，从/dev/net/tun 字符设备上读取的是以太网数据帧，写入的也只能是以太网数据帧。从这点来看，Tap 虚拟设备和真实的物理网卡的能力更接近。

- [介绍 Linux 下的 Tun/Tap](https://www.lxlinux.net/12108.html)
