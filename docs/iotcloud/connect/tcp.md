---
sidebar_position: 3
---

# TCP 设备接入

TCP 接入应该属于最为传统的接入方式，协议可以采用私有协议或通用的 Modbus 等。

本平台实现了 ModbusRTU 协议，以及支持私有协议的 TCP 二进制、TCP 文本协议。

**特别说明**，TCP 设备接入，云端作为 TCP 的服务端，暴漏的 15000 端口号，设备端作为 TCP 的客户端。

目前，该平台实现以下三种模式：

- ModbusRTU 云端轮询模式
- 二级制私有协议 云端轮询模式
- 文本私有协议 云端轮询模式

#### TCP 注册包

三种模式的设备端注册到云端的方式是一样的。

设备端发起到云端的 TCP 的连接成功后，应该立即发送注册包，注册包的格式为 **${device.code}&${device.pwd}**。

云端验证成功后，后续设备端发送的消息才会被正常的解析，否则云端会离开断掉 TCP 连接。

#### ModbusRTU 云端轮询模式

选择了此种协议格式的设备，应该配置 **Modbus 配置** ，让属性和寄存器建立关系，以保证云端可以根据关系去轮询设备的数据。

#### 二级制私有协议 云端轮询模式

#### 文本私有协议 云端轮询模式
